// <auto-generated/>
// SpocR v4.5 Bridge Phase (vNext generator). Do not edit this file directly.
// Changes may be overwritten. For customization extend generated partials.

namespace RestApi.SpocR.Samples;

using System;
#if SPOCR_ENABLE_TABLETYPE_VALIDATION
using FluentValidation;
#endif

/// <summary>
/// User Defined Table Type Samples.OrderImportTableType
/// <remarks>Generated at <generated></remarks>
/// </summary>
public sealed record OrderImportTableType : ITableType
{
    public int UserId { get; init; }
    public decimal TotalAmount { get; init; }
    public DateTime PlacedAt { get; init; }

#if SPOCR_ENFORCE_TABLETYPE_BUILDER
	#warning Use the 'OrderImportTableTypeBuilder' or factory method instead of object initializers.
#endif

	[Obsolete("Use the static Create(...) or builder for construction.")]
	public OrderImportTableType() { }

	public static OrderImportTableType Create(
        int UserId,
        decimal TotalAmount,
        DateTime PlacedAt
    ) =>
	#pragma warning disable CS0612, CS0618 // Suppress obsolete ctor usage in factory
	new OrderImportTableType
	{
        UserId = UserId,
        TotalAmount = TotalAmount,
        PlacedAt = PlacedAt
    };
	#pragma warning restore CS0612, CS0618

	#pragma warning disable CS0612, CS0618 // Suppress obsolete ctor usage warnings for internal factory construction

	public sealed class OrderImportTableTypeBuilder
	{
        private int _UserId;
        private bool _hasUserId;
        private decimal _TotalAmount;
        private bool _hasTotalAmount;
        private DateTime _PlacedAt;
        private bool _hasPlacedAt;

        public OrderImportTableTypeBuilder WithUserId(int value) { _UserId = value; _hasUserId = true; return this; }
        public OrderImportTableTypeBuilder WithTotalAmount(decimal value) { _TotalAmount = value; _hasTotalAmount = true; return this; }
        public OrderImportTableTypeBuilder WithPlacedAt(DateTime value) { _PlacedAt = value; _hasPlacedAt = true; return this; }
        public OrderImportTableType Build()
        {
			#pragma warning disable CS0612, CS0618 // Suppress obsolete ctor usage in builder
			var result = new OrderImportTableType
            {
                UserId = _UserId,
                TotalAmount = _TotalAmount,
                PlacedAt = _PlacedAt
            };
			#pragma warning restore CS0612, CS0618
#if SPOCR_ENABLE_TABLETYPE_VALIDATION
            OrderImportTableTypeValidator.Instance.ValidateAndThrow(result);
#endif
            return result;
        }
	}
#pragma warning restore CS0612, CS0618
#if SPOCR_ENABLE_TABLETYPE_VALIDATION
	private sealed class OrderImportTableTypeValidator : AbstractValidator<OrderImportTableType>
	{
		public static readonly OrderImportTableTypeValidator Instance = new();
		public OrderImportTableTypeValidator()
		{
			// Add rules (placeholder - extend generator to emit rules per column metadata, e.g. nullability / max length)
			// Example: RuleFor(x => x.SomeColumn).NotNull();
		}
	}
#endif
}
